# 单例模式

## 介绍

单例模式是应用最为广泛的模式之一，也可能是很多入门级初级工程师唯一会使用的设计模式之吧，在应用这个模式时，单例对象的类必须保证只有一个实例存在。许多时候整个系统只需要拥有一个实例类。有利于我们的调用，避免一个相同的类重复创建实例，比如一个网络请求，图片下载，数据库操作等，如果频繁创建同一个相同对象的话，很消耗资源，因此，没有理由让它们构造多个实例。全局都需要使用这个功能的时候，避免重复创建，就可以用单例，这就是单例使用场景。

## 定义

确保某个类只有一个实例，而且自行实例化并向整个系统提供这个实例。

## 使用场景

应用中重复使用某个类时，为了避免多次创建产生的资源消耗，那么这个时候就可以考虑使用单例设计模式。

## 单例 UML 类图

![](https://s3.ax2x.com/2019/08/29/647e591e033cf4e26749f877a3c6ffde.png)

实现单例模式主要有如下几个关键点:

1. 构造函数不对外开放，一般为 private;
2. 通过一个静态方法或者枚举返回单例对象；
3. 确保单例类的对象有且只有一个，尤其是在多线程环境下；
4. 确保单例类对象在反序列化时不会被重新构建对象。



## 单例示例

### 简单示例

### 懒汉模式

### Double Check Lock 实现单例

### 静态内部类单例模式

### 枚举单例

### 使用容器实现单例模式

## Android 源码中单例模式

## 总结

